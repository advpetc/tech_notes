


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Keep track of all the learning">
      
      
        <link rel="canonical" href="https://notes.peterchen.xyz/Interview/system-design-related-questions/">
      
      
        <meta name="author" content="Haoyang">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.2">
    
    
      
        <title>System design related questions - Tech Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a2408e81.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"Ubuntu Mono",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
      <link rel="manifest" href="../../assets/images/site.webmanifest" crossorigin="use-credentials">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-168812075-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="teal">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#algorithm-problem-external-storage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://notes.peterchen.xyz" title="Tech Notes" class="md-header-nav__button md-logo" aria-label="Tech Notes">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Tech Notes
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              System design related questions
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/advpetc/tech_notes/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    advpetc/Tech_Notes
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://notes.peterchen.xyz" title="Tech Notes" class="md-nav__button md-logo" aria-label="Tech Notes">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    Tech Notes
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/advpetc/tech_notes/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    advpetc/Tech_Notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome to Haoyang's Tech Notes" class="md-nav__link">
      Welcome to Haoyang's Tech Notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Acwing
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Acwing" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Acwing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Acwing/lca%E6%9C%80%E5%B0%8F%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/" title="Lca最小公共祖先" class="md-nav__link">
      Lca最小公共祖先
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Acwing/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE/" title="算法基础课" class="md-nav__link">
      算法基础课
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Books
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Books" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Books
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Books/lca/" title="Lca" class="md-nav__link">
      Lca
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Books/proof-of-fibonacci-squence/" title="Proof of fibonacci squence" class="md-nav__link">
      Proof of fibonacci squence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Books/shortest-path-problem/" title="Shortest path problem" class="md-nav__link">
      Shortest path problem
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Crypto
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Crypto" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Crypto
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Crypto/rsa-en%26decryption/" title="Rsa en&decryption" class="md-nav__link">
      Rsa en&decryption
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Google Kick Start
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Google Kick Start" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Google Kick Start
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Google%20Kick%20Start/2020---round-a/" title="2020 round a" class="md-nav__link">
      2020   round a
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Google%20Kick%20Start/past-interview--minesweeper/" title="Past interview minesweeper" class="md-nav__link">
      Past interview  minesweeper
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Interview
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Interview" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Interview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../all-valid-permutations-of-parentheses/" title="All valid permutations of parentheses" class="md-nav__link">
      All valid permutations of parentheses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../array/" title="Array" class="md-nav__link">
      Array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../balanced-search-trees/" title="Balanced search trees" class="md-nav__link">
      Balanced search trees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../behavior-questions/" title="Behavior questions" class="md-nav__link">
      Behavior questions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../binary-search/" title="Binary search" class="md-nav__link">
      Binary search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../choose-k-cards-and-find-the-maximum/" title="Choose k cards and find the maximum" class="md-nav__link">
      Choose k cards and find the maximum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../count-array---count-inversion-of-an-array/" title="Count array count inversion of an array" class="md-nav__link">
      Count array   count inversion of an array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../design-heap-priority-queue/" title="Design heap priority queue" class="md-nav__link">
      Design heap priority queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../divide-two-integer/" title="Divide two integer" class="md-nav__link">
      Divide two integer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dynamic-programming/" title="Dynamic programming" class="md-nav__link">
      Dynamic programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../find-longest-substring-at-most-k-characters/" title="Find longest substring at most k characters" class="md-nav__link">
      Find longest substring at most k characters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../find-minimum-in-rotated-sorted-array/" title="Find minimum in rotated sorted array" class="md-nav__link">
      Find minimum in rotated sorted array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../graph/" title="Graph" class="md-nav__link">
      Graph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gs/" title="Gs" class="md-nav__link">
      Gs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hashmap/" title="Hashmap" class="md-nav__link">
      Hashmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../k-sum-problem/" title="K sum problem" class="md-nav__link">
      K sum problem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../keep-distance-for-identical-elements/" title="Keep distance for identical elements" class="md-nav__link">
      Keep distance for identical elements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../knight-dialer/" title="Knight dialer" class="md-nav__link">
      Knight dialer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kth-problem/" title="Kth problem" class="md-nav__link">
      Kth problem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../linked-list/" title="Linked list" class="md-nav__link">
      Linked list
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lowest-common-ancester/" title="Lowest common ancester" class="md-nav__link">
      Lowest common ancester
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../maximum-product-subarray/" title="Maximum product subarray" class="md-nav__link">
      Maximum product subarray
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../midterm-java/" title="Midterm java" class="md-nav__link">
      Midterm java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ood/" title="Ood" class="md-nav__link">
      Ood
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rectangle--2d-dp/" title="Rectangle 2d dp" class="md-nav__link">
      Rectangle  2d dp
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../recursion-tree/" title="Recursion tree" class="md-nav__link">
      Recursion tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../recursion/" title="Recursion" class="md-nav__link">
      Recursion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../russian-roll/" title="Russian roll" class="md-nav__link">
      Russian roll
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../search-in-bitonic-array/" title="Search in bitonic array" class="md-nav__link">
      Search in bitonic array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../serializing-and-deserializing/" title="Serializing and deserializing" class="md-nav__link">
      Serializing and deserializing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../singleton/" title="Singleton" class="md-nav__link">
      Singleton
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sorting-algorithms/" title="Sorting algorithms" class="md-nav__link">
      Sorting algorithms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stack-and-queue/" title="Stack and queue" class="md-nav__link">
      Stack and queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../string-match/" title="String match" class="md-nav__link">
      String match
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../string/" title="String" class="md-nav__link">
      String
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subset%2C-combination%2C-permutation-problems/" title="Subset, combination, permutation problems" class="md-nav__link">
      Subset, combination, permutation problems
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        System design related questions
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="System design related questions" class="md-nav__link md-nav__link--active">
      System design related questions
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#algorithm-problem-external-storage" class="md-nav__link">
    Algorithm Problem: External Storage
  </a>
  
    <nav class="md-nav" aria-label="Algorithm Problem: External Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#q11-merge-k-sorted-arrays" class="md-nav__link">
    Q1.1: Merge k sorted arrays
  </a>
  
    <nav class="md-nav" aria-label="Q1.1: Merge k sorted arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analysis" class="md-nav__link">
    Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q12-external-sort-1" class="md-nav__link">
    Q1.2: External Sort 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q13-external-sort-2" class="md-nav__link">
    Q1.3: External Sort 2
  </a>
  
    <nav class="md-nav" aria-label="Q1.3: External Sort 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lc-followup-for-contains-duplicate-ii" class="md-nav__link">
    LC Followup for Contains Duplicate II
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q14-2sum-on-1tb-data" class="md-nav__link">
    Q1.4: 2Sum on 1TB data
  </a>
  
    <nav class="md-nav" aria-label="Q1.4: 2Sum on 1TB data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution" class="md-nav__link">
    Solution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q21-find-common-elements-in-two-arrays" class="md-nav__link">
    Q2.1 Find common elements in two arrays
  </a>
  
    <nav class="md-nav" aria-label="Q2.1 Find common elements in two arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solutions" class="md-nav__link">
    Solutions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q22-find-common-elements-in-k-sorted-arrays" class="md-nav__link">
    Q2.2 Find common elements in k sorted arrays
  </a>
  
    <nav class="md-nav" aria-label="Q2.2 Find common elements in k sorted arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solutions_1" class="md-nav__link">
    Solutions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tree/" title="Tree" class="md-nav__link">
      Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../%E5%8D%88%E9%97%B4%E8%AF%BE%E5%A0%82/" title="午间课堂" class="md-nav__link">
      午间课堂
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../%E6%AF%8F%E6%97%A5%E6%89%93%E5%8D%A1/" title="每日打卡" class="md-nav__link">
      每日打卡
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Java
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Java" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/CSS/" title="CSS" class="md-nav__link">
      CSS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/Serialization/" title="Serialization" class="md-nav__link">
      Serialization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/array%2C-class-and-objects/" title="Array, class and objects" class="md-nav__link">
      Array, class and objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/common-problem/" title="Common problem" class="md-nav__link">
      Common problem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/control-flow-and-methods/" title="Control flow and methods" class="md-nav__link">
      Control flow and methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/primitive-types-and-basic-operations/" title="Primitive types and basic operations" class="md-nav__link">
      Primitive types and basic operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/tips/" title="Tips" class="md-nav__link">
      Tips
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Leetcode
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Leetcode" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Leetcode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/10.-regular-expression-matching/" title="10. regular expression matching" class="md-nav__link">
      10. regular expression matching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/1041.-robot-bounded-in-circle/" title="1041. robot bounded in circle" class="md-nav__link">
      1041. robot bounded in circle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/1047.-remove-all-adjacent-duplicates-in-string/" title="1047. remove all adjacent duplicates in string" class="md-nav__link">
      1047. remove all adjacent duplicates in string
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/1057.-campus-bikes/" title="1057. campus bikes" class="md-nav__link">
      1057. campus bikes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/109.-convert-sorted-list-to-binary-search-tree/" title="109. convert sorted list to binary search tree" class="md-nav__link">
      109. convert sorted list to binary search tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/11.-container-with-most-water/" title="11. container with most water" class="md-nav__link">
      11. container with most water
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/114.-flatten-binary-tree-to-linked-list/" title="114. flatten binary tree to linked list" class="md-nav__link">
      114. flatten binary tree to linked list
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/115.-distinct-subsequences/" title="115. distinct subsequences" class="md-nav__link">
      115. distinct subsequences
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/12.-integer-to-roman/" title="12. integer to roman" class="md-nav__link">
      12. integer to roman
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/121%2C123%2C132%2C188%2C309%2C714-best-time-to-buy-and-sell-stock/" title="121,123,132,188,309,714 best time to buy and sell stock" class="md-nav__link">
      121,123,132,188,309,714 best time to buy and sell stock
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/13.-roman-to-integer/" title="13. roman to integer" class="md-nav__link">
      13. roman to integer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/138.-copy-list-with-random-pointer/" title="138. copy list with random pointer" class="md-nav__link">
      138. copy list with random pointer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/139.-word-break/" title="139. word break" class="md-nav__link">
      139. word break
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/140.-word-break-ii/" title="140. word break ii" class="md-nav__link">
      140. word break ii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/146.-lru-cache/" title="146. lru cache" class="md-nav__link">
      146. lru cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/148.-sort-list/" title="148. sort list" class="md-nav__link">
      148. sort list
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/152.-maximum-product-subarray/" title="152. maximum product subarray" class="md-nav__link">
      152. maximum product subarray
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/2.-add-two-numbers/" title="2. add two numbers" class="md-nav__link">
      2. add two numbers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/208.-implement-trie-%28prefix-tree%29/" title="208. implement trie (prefix tree)" class="md-nav__link">
      208. implement trie (prefix tree)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/239.-sliding-window-maximum/" title="239. sliding window maximum" class="md-nav__link">
      239. sliding window maximum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/254.-factor-combinations/" title="254. factor combinations" class="md-nav__link">
      254. factor combinations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/295.-find-median-from-data-stream/" title="295. find median from data stream" class="md-nav__link">
      295. find median from data stream
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/32.-longest-valid-parentheses/" title="32. longest valid parentheses" class="md-nav__link">
      32. longest valid parentheses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/4.-median-of-two-sorted-arrays/" title="4. median of two sorted arrays" class="md-nav__link">
      4. median of two sorted arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/437.-path-sum-iii/" title="437. path sum iii" class="md-nav__link">
      437. path sum iii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/438%2C-76%2C-3%2C-30%2C-sliding-window/" title="438, 76, 3, 30, sliding window" class="md-nav__link">
      438, 76, 3, 30, sliding window
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/520.-detect-capital/" title="520. detect capital" class="md-nav__link">
      520. detect capital
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/532.-k-diff-pairs-in-an-array/" title="532. k diff pairs in an array" class="md-nav__link">
      532. k diff pairs in an array
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/54.-spiral-matrix/" title="54. spiral matrix" class="md-nav__link">
      54. spiral matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/568.-maximum-vacation-days/" title="568. maximum vacation days" class="md-nav__link">
      568. maximum vacation days
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/647.-palindromic-substrings/" title="647. palindromic substrings" class="md-nav__link">
      647. palindromic substrings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/72.-edit-distance/" title="72. edit distance" class="md-nav__link">
      72. edit distance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/85.-maximal-rectangle/" title="85. maximal rectangle" class="md-nav__link">
      85. maximal rectangle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/87.-scramble-string/" title="87. scramble string" class="md-nav__link">
      87. scramble string
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/91.-decode-ways/" title="Use array DP" class="md-nav__link">
      Use array DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/93.-restore-ip-addresses/" title="93. restore ip addresses" class="md-nav__link">
      93. restore ip addresses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/95.-unique-binary-search-trees-ii/" title="95. unique binary search trees ii" class="md-nav__link">
      95. unique binary search trees ii
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/96.-unique-binary-search-trees-%282%29/" title="96. unique binary search trees (2)" class="md-nav__link">
      96. unique binary search trees (2)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/96.-unique-binary-search-trees/" title="96. unique binary search trees" class="md-nav__link">
      96. unique binary search trees
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/97.-interleaving-string/" title="97. interleaving string" class="md-nav__link">
      97. interleaving string
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/99.-recover-binary-search-tree/" title="99. recover binary search tree" class="md-nav__link">
      99. recover binary search tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/994.-rotting-oranges/" title="994. rotting oranges" class="md-nav__link">
      994. rotting oranges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Leetcode/dp-pattern/" title="Dp pattern" class="md-nav__link">
      Dp pattern
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      LibreOJ
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="LibreOJ" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        LibreOJ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../LibreOJ/10000/" title="10000" class="md-nav__link">
      10000
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../LibreOJ/10001/" title="10001" class="md-nav__link">
      10001
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../LibreOJ/10002/" title="10002" class="md-nav__link">
      10002
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../LibreOJ/10003/" title="10003" class="md-nav__link">
      10003
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Python
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Python" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/class/" title="Class" class="md-nav__link">
      Class
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/invoke-main/" title="Invoke main" class="md-nav__link">
      Invoke main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/misc/" title="Misc" class="md-nav__link">
      Misc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      C
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="C" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        C
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/functional-programming-with-futures-to-implement-quick-sort/" title="Functional programming with futures to implement quick sort" class="md-nav__link">
      Functional programming with futures to implement quick sort
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/malloc-lab/" title="Malloc lab" class="md-nav__link">
      Malloc lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/marcos-vs-functions/" title="Marcos vs functions" class="md-nav__link">
      Marcos vs functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/misc/" title="Misc" class="md-nav__link">
      Misc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/parse-string-to-int/" title="Parse string to int" class="md-nav__link">
      Parse string to int
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/smart-pointers/" title="Smart pointers" class="md-nav__link">
      Smart pointers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../c/stl-complexity/" title="Stl complexity" class="md-nav__link">
      Stl complexity
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      iOS
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="iOS" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        iOS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/dialog-flow/" title="Dialog flow" class="md-nav__link">
      Dialog flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/exam-ii-review-part-one/" title="Exam ii review part one" class="md-nav__link">
      Exam ii review part one
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/exam-ii-review-part-two/" title="Exam ii review part two" class="md-nav__link">
      Exam ii review part two
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/ios-api/" title="Ios api" class="md-nav__link">
      Ios api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/some-tools/" title="Some tools" class="md-nav__link">
      Some tools
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Machine learning
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Machine learning" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Machine learning
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../machine%20learning/cs231n-lecture-3---loss-function/" title="Cs231n lecture 3 loss function" class="md-nav__link">
      Cs231n lecture 3   loss function
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../machine%20learning/cs231n-lecture-4---introduction-to-neural-networks/" title="Cs231n lecture 4 introduction to neural networks" class="md-nav__link">
      Cs231n lecture 4   introduction to neural networks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../machine%20learning/cs231n-lecture-5---convolutional-neural-networks/" title="Cs231n lecture 5 convolutional neural networks" class="md-nav__link">
      Cs231n lecture 5   convolutional neural networks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../machine%20learning/cs231n-lecture-6---training-neural-networks-i/" title="Cs231n lecture 6 training neural networks i" class="md-nav__link">
      Cs231n lecture 6   training neural networks i
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#algorithm-problem-external-storage" class="md-nav__link">
    Algorithm Problem: External Storage
  </a>
  
    <nav class="md-nav" aria-label="Algorithm Problem: External Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#q11-merge-k-sorted-arrays" class="md-nav__link">
    Q1.1: Merge k sorted arrays
  </a>
  
    <nav class="md-nav" aria-label="Q1.1: Merge k sorted arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analysis" class="md-nav__link">
    Analysis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q12-external-sort-1" class="md-nav__link">
    Q1.2: External Sort 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q13-external-sort-2" class="md-nav__link">
    Q1.3: External Sort 2
  </a>
  
    <nav class="md-nav" aria-label="Q1.3: External Sort 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lc-followup-for-contains-duplicate-ii" class="md-nav__link">
    LC Followup for Contains Duplicate II
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q14-2sum-on-1tb-data" class="md-nav__link">
    Q1.4: 2Sum on 1TB data
  </a>
  
    <nav class="md-nav" aria-label="Q1.4: 2Sum on 1TB data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution" class="md-nav__link">
    Solution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q21-find-common-elements-in-two-arrays" class="md-nav__link">
    Q2.1 Find common elements in two arrays
  </a>
  
    <nav class="md-nav" aria-label="Q2.1 Find common elements in two arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solutions" class="md-nav__link">
    Solutions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q22-find-common-elements-in-k-sorted-arrays" class="md-nav__link">
    Q2.2 Find common elements in k sorted arrays
  </a>
  
    <nav class="md-nav" aria-label="Q2.2 Find common elements in k sorted arrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solutions_1" class="md-nav__link">
    Solutions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/advpetc/tech_notes/edit/master/docs/Interview/system-design-related-questions.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>System design related questions</h1>
                
                <h2 id="algorithm-problem-external-storage">Algorithm Problem: External Storage<a class="headerlink" href="#algorithm-problem-external-storage" title="Permanent link">&para;</a></h2>
<h3 id="q11-merge-k-sorted-arrays">Q1.1: Merge k <strong>sorted</strong> arrays<a class="headerlink" href="#q11-merge-k-sorted-arrays" title="Permanent link">&para;</a></h3>
<p>Duplication: input two arrays can have duplications, but output array cannot.</p>
<h4 id="analysis">Analysis<a class="headerlink" href="#analysis" title="Permanent link">&para;</a></h4>
<p>Use a <code>priority_queue</code> to keep track of the smallest value for each array. Use a <code>pair&lt;int,int&gt;</code> to represent <strong>which array</strong> and <strong>which element</strong> from the array.</p>
<p>This solution will read and write each element <strong>once</strong> from the disk  (because we are using a pointer to point each array).</p>
<p>Assume the average size of each array is <strong>n</strong>, then the time complexity is <span><span class="MathJax_Preview">O(k \times log_2{k} \times N)</span><script type="math/tex">O(k \times log_2{k} \times N)</script></span> </p>
<ul>
<li>Other Common Solution</li>
<li>Iterative Reduction: sort first two O(n) -&gt; first three O(2n) -&gt; ... -&gt; all K O(kn): Time <span><span class="MathJax_Preview">O(k^2 \times n)</span><script type="math/tex">O(k^2 \times n)</script></span> + Space <span><span class="MathJax_Preview">O(k \times n)</span><script type="math/tex">O(k \times n)</script></span> because of the aux array</li>
<li>Binary Reduction: merge 1 &amp; 2, merge 3 &amp; 4 ... merge k - 1 &amp; k. -&gt; merge 12 &amp; 34 ... -&gt; merge k-3k-2 &amp; k-1k: Time <span><span class="MathJax_Preview">O(k \times n \times log_2{k})</span><script type="math/tex">O(k \times n \times log_2{k})</script></span>: <span><span class="MathJax_Preview">log_2{k}</span><script type="math/tex">log_2{k}</script></span>: merge ops, for each merge it takes n to merge and there are k arrays + Space <span><span class="MathJax_Preview">O(k \times n)</span><script type="math/tex">O(k \times n)</script></span>. This solution has the same compleixty as the <code>priority_queue</code> solution, however if the array size is too big, then we need to read and write multiple times.</li>
</ul>
<h4 id="code">Code<a class="headerlink" href="#code" title="Permanent link">&para;</a></h4>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code><span style="color: #f8f8f2">vector</span><span style="color: #f92672">&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">merge(vector</span><span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">vector</span><span style="color: #f92672">&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f92672">&gt;&gt;</span> <span style="color: #f8f8f2">nums)</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #75715e">// write your solution here</span>
    <span style="color: #66d9ef">typedef</span> <span style="color: #f8f8f2">pair</span><span style="color: #f92672">&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">int</span><span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">PII;</span>
    <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">m</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">nums.size();</span>

    <span style="color: #66d9ef">auto</span> <span style="color: #f8f8f2">cmp</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span><span style="color: #f92672">&amp;</span><span style="color: #f8f8f2">](</span><span style="color: #66d9ef">const</span> <span style="color: #f8f8f2">PII</span><span style="color: #f92672">&amp;</span> <span style="color: #f8f8f2">l,</span> <span style="color: #66d9ef">const</span> <span style="color: #f8f8f2">PII</span><span style="color: #f92672">&amp;</span> <span style="color: #f8f8f2">r)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">nums[l.first][l.second]</span> <span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">nums[r.first][r.second];</span>
    <span style="color: #f8f8f2">};</span>
    <span style="color: #f8f8f2">priority_queue</span><span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">PII,</span> <span style="color: #f8f8f2">vector</span><span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">PII</span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">decltype(cmp)</span><span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">pq(cmp);</span>
    <span style="color: #66d9ef">for</span> <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span> <span style="color: #f8f8f2">i</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">m;</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">i)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">nums[i].empty())</span>
        <span style="color: #f8f8f2">pq.push(make_pair(i,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">));</span>
    <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">vector</span><span style="color: #f92672">&lt;</span><span style="color: #66d9ef">int</span><span style="color: #f92672">&gt;</span> <span style="color: #f8f8f2">res;</span>
    <span style="color: #66d9ef">while</span> <span style="color: #f8f8f2">(</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">pq.empty())</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #66d9ef">int</span> <span style="color: #f8f8f2">r,</span> <span style="color: #f8f8f2">c;</span>
      <span style="color: #f8f8f2">tie(r,</span> <span style="color: #f8f8f2">c)</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">pq.top();</span>
      <span style="color: #f8f8f2">pq.pop();</span>
      <span style="color: #f8f8f2">res.push_back(nums[r][c]);</span>
      <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(c</span> <span style="color: #f92672">+</span> <span style="color: #ae81ff">1</span> <span style="color: #f92672">&lt;</span> <span style="color: #f8f8f2">nums[r].size())</span> <span style="color: #f8f8f2">pq.push(make_pair(r,</span> <span style="color: #f8f8f2">c</span> <span style="color: #f92672">+</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">));</span>
    <span style="color: #f8f8f2">}</span>
    <span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">res;</span>
  <span style="color: #f8f8f2">}</span>
</code></pre></div>


<h3 id="q12-external-sort-1">Q1.2: External Sort 1<a class="headerlink" href="#q12-external-sort-1" title="Permanent link">&para;</a></h3>
<p>Given a simple computer with <strong>one</strong> core CPU, which has <strong>2GB</strong> memory and <strong>1GB</strong> avaliable to used, it also has <strong>two 100GB</strong> Hard Disk, how to sort <strong>80GB</strong> integer of 64 bits?</p>
<ol>
<li>
<p>make 320 paritions for the 80GB data, so that each parition has 0.25 GB size (which is less than 1 GB, and we can use the additional free space to do other things, such as running our algorithm). </p>
</li>
<li>
<p>maintain a min-heap (320 partition files) with fix size to sort externally. </p>
</li>
<li>
<p>Below are quoted from <a href="https://en.wikipedia.org/wiki/External_sorting#:~:text=External%20sorting%20is%20a%20class,usually%20a%20hard%20disk%20drive.">wikipedia</a></p>
</li>
</ol>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>One example of external sorting is the external merge sort algorithm, which is a K-way merge algorithm. It sorts chunks that each fit in RAM, then merges the sorted chunks together.

The algorithm first sorts M items at a time and puts the sorted lists back into external memory. It then recursively does a M/B-way merge on those sorted lists. To do this merge, B elements from each sorted list are loaded into internal memory, and the minimum is repeatedly outputted.

For example, for sorting 900 megabytes of data using only 100 megabytes of RAM:

Read 100 MB of the data in main memory and sort by some conventional method, like quicksort.
Write the sorted data to disk.
Repeat steps 1 and 2 until all of the data is in sorted 100 MB chunks (there are 900MB / 100MB = 9 chunks), which now need to be merged into one single output file.
Read the first 10 MB (= 100MB / (9 chunks + 1)) of each sorted chunk into input buffers in main memory and allocate the remaining 10 MB for an output buffer. (In practice, it might provide better performance to make the output buffer larger and the input buffers slightly smaller.)
Perform a 9-way merge and store the result in the output buffer. Whenever the output buffer fills, write it to the final sorted file and empty it. Whenever any of the 9 input buffers empties, fill it with the next 10 MB of its associated 100 MB sorted chunk until no more data from the chunk is available. This is the key step that makes external merge sort work externally -- because the merge algorithm only makes one pass sequentially through each of the chunks, each chunk does not have to be loaded completely; rather, sequential parts of the chunk can be loaded as needed.
Historically, instead of a sort, sometimes a replacement-selection algorithm was used to perform the initial distribution, to produce on average half as many output chunks of double the length.
</code></pre></div>


<h3 id="q13-external-sort-2">Q1.3: External Sort 2<a class="headerlink" href="#q13-external-sort-2" title="Permanent link">&para;</a></h3>
<h4 id="lc-followup-for-contains-duplicate-ii">LC Followup for <strong>Contains Duplicate II</strong><a class="headerlink" href="#lc-followup-for-contains-duplicate-ii" title="Permanent link">&para;</a></h4>
<p><a href="https://leetcode.com/problems/intersection-of-two-arrays-ii/discuss/82243/Solution-to-3rd-follow-up-question">link</a></p>
<h3 id="q14-2sum-on-1tb-data">Q1.4: 2Sum on 1TB data<a class="headerlink" href="#q14-2sum-on-1tb-data" title="Permanent link">&para;</a></h3>
<p>1 GB memory vs 1TB data</p>
<h4 id="solution">Solution<a class="headerlink" href="#solution" title="Permanent link">&para;</a></h4>
<p>use external sort to sort and apply two pointers.</p>
<p>assume duplicate exist.</p>
<p>If we cannot read the entire dataset to memory, then we need to know how to partition the list s.t. we can decrease the search range.</p>
<p>How to partition the list? ans: by doing the sampling of data to find the <strong>pattern</strong></p>
<ol>
<li>do sampling on HD to get the distribution of the values =&gt; let's say the distribution is even distributed</li>
<li>scan the HD (1TB data) and put data into correspondng range into a file. (-100-0, 1-100, 101-200...) assume now we have k files.</li>
<li>load each file into the memory, e.g. for a file of range [1, 100], the only possible other file should be in the range of [101, 200], so we only need to load these two files into the memory.__</li>
</ol>
<h3 id="q21-find-common-elements-in-two-arrays">Q2.1 Find common elements in two arrays<a class="headerlink" href="#q21-find-common-elements-in-two-arrays" title="Permanent link">&para;</a></h3>
<h4 id="solutions">Solutions<a class="headerlink" href="#solutions" title="Permanent link">&para;</a></h4>
<ol>
<li>Solution 1 (assume sorted): use two pointer (i points to the start of array1, j points to the start of array2). Time: <span><span class="MathJax_Preview">O(m + n)</span><script type="math/tex">O(m + n)</script></span>, Space: <span><span class="MathJax_Preview">O(1)</span><script type="math/tex">O(1)</script></span></li>
<li>Solution 2 (assume unsoted): Use a hashset to contain the array whose size is less, then check the other array to see if exist in the set. Time: <span><span class="MathJax_Preview">O(m + n)</span><script type="math/tex">O(m + n)</script></span>, Space: <span><span class="MathJax_Preview">O(min(m,n))</span><script type="math/tex">O(min(m,n))</script></span></li>
<li>Solution 3 (assume sorted): use binary search on the large array. Time: <span><span class="MathJax_Preview">O(m \times log_2{n})</span><script type="math/tex">O(m \times log_2{n})</script></span>, Space: <span><span class="MathJax_Preview">O(1)</span><script type="math/tex">O(1)</script></span></li>
</ol>
<h3 id="q22-find-common-elements-in-k-sorted-arrays">Q2.2 Find common elements in k sorted arrays<a class="headerlink" href="#q22-find-common-elements-in-k-sorted-arrays" title="Permanent link">&para;</a></h3>
<p>Assume the size of each array is approx equal to n</p>
<h4 id="solutions_1">Solutions<a class="headerlink" href="#solutions_1" title="Permanent link">&para;</a></h4>
<ol>
<li>Solution 1: iterative reduction -&gt; do the search between 1, 2, use the commom elements to search the 3, do the same thing for 4... Time: <span><span class="MathJax_Preview">O(k \times n)</span><script type="math/tex">O(k \times n)</script></span>, Space: <span><span class="MathJax_Preview">O(n)</span><script type="math/tex">O(n)</script></span></li>
<li>Solution 2: binary reduction -&gt; 1,2 common + 3,4 common + .... + (k - 1) + (k) common then merge, </li>
</ol>
<p>For implementation: <a href="https://stackoverflow.com/a/44069571">stackoverflow link</a></p>
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>var disqus_config=function(){this.page.url="https://notes.peterchen.xyz/Interview/system-design-related-questions/",this.page.identifier="/Interview/system-design-related-questions/"};!function(){var e=document,i=e.createElement("script");i.src="//tech-notes-2.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(i)}()</script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../subset%2C-combination%2C-permutation-problems/" title="Subset, combination, permutation problems" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Subset, combination, permutation problems
              </div>
            </div>
          </a>
        
        
          <a href="../tree/" title="Tree" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tree
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>