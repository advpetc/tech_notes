
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='CS231n Lecture 3   Loss Function.html'>CS231n Lecture 3 | Loss Function</a>, Previous: <a href='CS231n Lecture 5   Convolutional Neural Networks.html'>CS231n Lecture 5 | Convolutional Neural Networks</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>CS231n Lecture 4 | Introduction to Neural Networks</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><h2>Computation Graph</h2>
</div><div class="cell markdown-cell"><p><img src="resources/694CE60B58AE2525CF1FE633A6CE7880.png" alt="Screen Shot 2020-04-29 at 8.25.32 PM.png" width="1106" height="441"></p>
</div><div class="cell markdown-cell"><h2>Backpropagation: used for finding gradient</h2>
</div><div class="cell latex-cell">e.g.
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-31-Frame" style=""><nobr><span class="math" id="MathJax-Span-264" style="width: 8.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.77em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.654em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-265"><span class="mi" id="MathJax-Span-266" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-267" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-268" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-269" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-270" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">y</span><span class="mo" id="MathJax-Span-271" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-272" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">z</span><span class="mo" id="MathJax-Span-273" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-274" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-275" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">(</span><span class="mi" id="MathJax-Span-276" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-277" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-278" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">y</span><span class="mo" id="MathJax-Span-279" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-280" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.107em; vertical-align: -0.292em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-31">f(x,y,z) = (x + y) z</script>
where x = -2, y = 5, z = -4</div><div class="cell markdown-cell"><p><img src="resources/144169A9C13020C6423CBB7B004914F7.png" alt="Screen Shot 2020-04-29 at 8.30.33 PM.png" width="629" height="300"></p>
</div><div class="cell markdown-cell"><h3>Notations:</h3>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-32-Frame" style=""><nobr><span class="math" id="MathJax-Span-281" style="width: 4.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.941em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.818em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-282"><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Italic;">q</span><span class="mo" id="MathJax-Span-284" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-285" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-286" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-287" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.964em; vertical-align: -0.294em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-32">q = x + y</script> <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-33-Frame" style=""><nobr><span class="math" id="MathJax-Span-288" style="width: 7.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.869em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.007em, 1000em, 3.595em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-289"><span class="mfrac" id="MathJax-Span-290"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-291"><span class="mi" id="MathJax-Span-292" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-293" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-296" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-297" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-298" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span><span class="mo" id="MathJax-Span-299" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-300" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-301"><span class="mi" id="MathJax-Span-302" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-303" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-304"><span class="mi" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-306" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-307" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-308" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.622em; vertical-align: -1.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-33">\frac{\partial q}{\partial x} = 1, \frac{\partial q}{\partial y} = 1</script></div><div class="cell markdown-cell"><p></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-34-Frame" style=""><nobr><span class="math" id="MathJax-Span-309" style="width: 3.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.703em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.912em, -0.654em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-310"><span class="mi" id="MathJax-Span-311" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-312" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-313" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span><span class="mi" id="MathJax-Span-314" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.11em; vertical-align: -0.294em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-34">f = qz</script> <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-35-Frame" style=""><nobr><span class="math" id="MathJax-Span-315" style="width: 7.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.7em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-316"><span class="mfrac" id="MathJax-Span-317"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-318"><span class="mi" id="MathJax-Span-319" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-320" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-321"><span class="mi" id="MathJax-Span-322" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-323" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-324" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-325" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">z</span><span class="mo" id="MathJax-Span-326" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-327" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-328"><span class="mi" id="MathJax-Span-329" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-330" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-331"><span class="mi" id="MathJax-Span-332" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-333" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-334" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-335" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-35">\frac{\partial f}{\partial q} = z, \frac{\partial f}{\partial z} = q</script><p></p>
</div><div class="cell markdown-cell"><p>goal is to find:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-36-Frame" style=""><nobr><span class="math" id="MathJax-Span-336" style="width: 5.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.236em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.595em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-337"><span class="mfrac" id="MathJax-Span-338"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-339"><span class="mi" id="MathJax-Span-340" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-341" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-342"><span class="mi" id="MathJax-Span-343" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-344" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-345" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-346" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-347"><span class="mi" id="MathJax-Span-348" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-349" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-350"><span class="mi" id="MathJax-Span-351" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-352" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-353" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-354" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-355"><span class="mi" id="MathJax-Span-356" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-357" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-358"><span class="mi" id="MathJax-Span-359" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-360" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.631em; vertical-align: -1.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-36">\frac{\partial f}{\partial x}, \frac{\partial f}{\partial y}, \frac{\partial f}{\partial z}</script> </div><div class="cell markdown-cell"><p>In order to get all the targets, we start from the last node where</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-37-Frame" style=""><nobr><span class="math" id="MathJax-Span-361" style="width: 5.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.011em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.596em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-362"><span class="mfrac" id="MathJax-Span-363"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-364"><span class="mi" id="MathJax-Span-365" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-366" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-367"><span class="mi" id="MathJax-Span-368" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-369" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-370" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-371" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span><span class="mo" id="MathJax-Span-372" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-373" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.632em; vertical-align: -1.054em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-37">\frac{\partial f}{\partial f} = q = 1</script></div><div class="cell markdown-cell"><p>Then find the following in sequences:</p>
<ol>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-38-Frame" style=""><nobr><span class="math" id="MathJax-Span-374" style="width: 5.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.011em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.47em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-375"><span class="mfrac" id="MathJax-Span-376"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-377"><span class="mi" id="MathJax-Span-378" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-379" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-380"><span class="mi" id="MathJax-Span-381" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-382" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-383" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-384" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span><span class="mo" id="MathJax-Span-385" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-386" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.492em; vertical-align: -0.914em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-38">\frac{\partial f}{\partial z} = q = 1 </script></li>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-39-Frame" style=""><nobr><span class="math" id="MathJax-Span-387" style="width: 6.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.631em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-388"><span class="mfrac" id="MathJax-Span-389"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-390"><span class="mi" id="MathJax-Span-391" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-392" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-393"><span class="mi" id="MathJax-Span-394" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-395" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-396" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-397" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">z</span><span class="mo" id="MathJax-Span-398" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-399" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-400" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-39">\frac{\partial f}{\partial q} = z = -4 </script></li>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-40-Frame" style=""><nobr><span class="math" id="MathJax-Span-401" style="width: 13.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.275em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-402"><span class="mfrac" id="MathJax-Span-403"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-404"><span class="mi" id="MathJax-Span-405" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-406" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-407"><span class="mi" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-409" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-410" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-411" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-412"><span class="mi" id="MathJax-Span-413" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-414" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-415"><span class="mi" id="MathJax-Span-416" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-417" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-418" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-419"><span class="mi" id="MathJax-Span-420" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-421" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-422"><span class="mi" id="MathJax-Span-423" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-424" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-425" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-426" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-427" style="font-family: STIXGeneral-Regular;">4</span><span class="mo" id="MathJax-Span-428" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">×</span><span class="mn" id="MathJax-Span-429" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-430" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-431" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-432" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-40">\frac{\partial f}{\partial y} = \frac{\partial f}{\partial q} \frac{\partial q}{\partial y} = -4 \times 1 = -4 </script> -- using chain rule</li>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-41-Frame" style=""><nobr><span class="math" id="MathJax-Span-433" style="width: 13.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.275em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-434"><span class="mfrac" id="MathJax-Span-435"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-436"><span class="mi" id="MathJax-Span-437" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-438" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-439"><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-441" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-443" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-444"><span class="mi" id="MathJax-Span-445" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-446" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-447"><span class="mi" id="MathJax-Span-448" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-449" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-450" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-451"><span class="mi" id="MathJax-Span-452" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-453" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-454"><span class="mi" id="MathJax-Span-455" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-456" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-457" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-458" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-459" style="font-family: STIXGeneral-Regular;">4</span><span class="mo" id="MathJax-Span-460" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">×</span><span class="mn" id="MathJax-Span-461" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-462" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-463" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-464" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-41">\frac{\partial f}{\partial x} = \frac{\partial f}{\partial q} \frac{\partial q}{\partial x} = -4 \times 1 = -4 </script> -- using chain rule</li>
</ol>
</div><div class="cell markdown-cell"><p>Using Chain rule:<br>
Use upstreaming compound and multiple with the local compound to derive the desire partial derivative</p>
<p>For each node, we just need "local gradient" which is the new upstream for the next level node.</p>
</div><div class="cell markdown-cell"><h3>Another Example</h3>
</div><div class="cell markdown-cell"><p><img src="resources/2F2DE522B6F73F4F3A32C9F4F7CA1F5E.png" alt="Screen Shot 2020-04-29 at 8.58.24 PM.png" width="1065" height="416"></p>
</div><div class="cell markdown-cell"><h3>Sigmoid Function</h3>
</div><div class="cell markdown-cell"><p><img src="resources/CF795D3BF62FAA58660DD6CB62889C93.png" alt="Screen Shot 2020-04-29 at 9.05.39 PM.png" width="1093" height="550"></p>
</div><div class="cell markdown-cell"><p>Because we already know the gradient for sigmoid function, we can just replace the sigmoid gate with the analyic gradient result.</p>
</div><div class="cell markdown-cell"><p><img src="resources/8BAE4EE8462BA932ED821309F290022D.png" alt="Screen Shot 2020-04-29 at 9.10.36 PM.png" width="521" height="211"></p>
</div><div class="cell markdown-cell"><h3>Patterns in backward flow</h3>
</div><div class="cell markdown-cell"><ol>
<li><strong>add</strong> gate: gradient distributor (split to two branches because of two terms)</li>
<li><strong>max</strong> gate (e.g. max(0,1)=1): gradient router (one gradient is 0 and another is the full value)</li>
<li><strong>mul</strong> gate: gradient switcher (multiple the other one to derive the current one)</li>
</ol>
</div><div class="cell markdown-cell"><h2>Using matrix representation (Vectorization)</h2>
</div><div class="cell markdown-cell"><p>Jacobian Matrix for derivative for each vector.</p>
</div><div class="cell markdown-cell"><p>However, we don't need to calculate Jacobian matrix, because each x in the row only affect the result element in the same row. Thus the matrix is diagonal.</p>
</div><div class="cell markdown-cell"><p><img src="resources/7672AA5D5DCADE68F2E7634AFED07A31.png" alt="Screen Shot 2020-04-29 at 9.25.24 PM.png" width="1167" height="585"></p>
</div><div class="cell markdown-cell"><p>L2 norm:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-42-Frame" style=""><nobr><span class="math" id="MathJax-Span-465" style="width: 16.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.414em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.474em, 1000em, 3.026em, -0.654em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-466"><span class="mi" id="MathJax-Span-467" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-468" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-469" style="font-family: STIXGeneral-Italic;">q</span><span class="mo" id="MathJax-Span-470" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-472" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-473"><span class="mo" id="MathJax-Span-474" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-475"><span class="mrow" id="MathJax-Span-476"><span class="mo" id="MathJax-Span-477" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-478" style="font-family: STIXGeneral-Italic;">q</span><span class="texatom" id="MathJax-Span-479"><span class="mrow" id="MathJax-Span-480"><span class="mo" id="MathJax-Span-481" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-482"><span style="display: inline-block; position: relative; width: 0.694em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.44em); top: -2.534em; left: 0em;"><span class="texatom" id="MathJax-Span-483"><span class="mrow" id="MathJax-Span-484"><span class="mo" id="MathJax-Span-485" style="font-family: STIXGeneral-Regular;">|</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.225em;"><span class="mn" id="MathJax-Span-486" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-487" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-488" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-489" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.507em;"><span class="mn" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -1.995em; left: 0.507em;"><span class="mn" id="MathJax-Span-491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-492" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-493" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-494" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.507em;"><span class="mn" id="MathJax-Span-495" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -1.995em; left: 0.507em;"><span class="mn" id="MathJax-Span-496" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-497" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-498" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-499" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -2.663em; left: 0.507em;"><span class="mn" id="MathJax-Span-500" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.995em; left: 0.507em;"><span class="mn" id="MathJax-Span-501" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-502" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-503" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-504" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-505" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">+</span><span class="msubsup" id="MathJax-Span-506"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-507" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.507em;"><span class="mn" id="MathJax-Span-508" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.161em; left: 0.507em;"><span class="mi" id="MathJax-Span-509" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.473em; vertical-align: -0.422em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-42">f(q) = ||q||^2 = q_1^2 + q_2^2 + q_3^3 ... + q_n^2 </script></div><div class="cell markdown-cell"><p>Partial in respect to each q_i:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-43-Frame" style=""><nobr><span class="math" id="MathJax-Span-510" style="width: 4.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.336em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.641em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-511"><span class="mfrac" id="MathJax-Span-512"><span style="display: inline-block; position: relative; width: 1.415em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-513"><span class="mi" id="MathJax-Span-514" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-515" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.955em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.648em;"><span class="mrow" id="MathJax-Span-516"><span class="mi" id="MathJax-Span-517" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-518"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-519" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-520" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.415em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-521" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-522" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">2</span><span class="msubsup" id="MathJax-Span-523"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-524" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-525" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.682em; vertical-align: -1.104em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-43">\frac{\partial f}{\partial q_i} = 2q_i</script> or <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-44-Frame" style=""><nobr><span class="math" id="MathJax-Span-526" style="width: 4.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.054em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 3em, -0.444em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-527"><span class="msubsup" id="MathJax-Span-528"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.703em, 1000em, 2.715em, -0.444em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-529" style="font-family: STIXGeneral-Regular;">∇</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.788em;"><span class="mi" id="MathJax-Span-530" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-531" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-532" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-533" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">2</span><span class="mi" id="MathJax-Span-534" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.208em; vertical-align: -0.393em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-44">\nabla_q f = 2q</script></div><div class="cell markdown-cell"><p>Then calculate gradient for W, we can use chain rule:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-45-Frame" style=""><nobr><span class="math" id="MathJax-Span-535" style="width: 10.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.741em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.964em, 1000em, 3.96em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-536"><span class="mfrac" id="MathJax-Span-537"><span style="display: inline-block; position: relative; width: 2.203em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-538"><span class="mi" id="MathJax-Span-539" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-540" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.999em, -0.467em); top: -1.848em; left: 50%; margin-left: -1.042em;"><span class="mrow" id="MathJax-Span-541"><span class="mi" id="MathJax-Span-542" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-543"><span style="display: inline-block; position: relative; width: 1.579em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.436em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-544" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.884em;"><span class="texatom" id="MathJax-Span-545"><span class="mrow" id="MathJax-Span-546"><span class="mi" id="MathJax-Span-547" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-548" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-549" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.203em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-550" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-551" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-552" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.657em, 1000em, 2.585em, -0.497em); top: -1.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-553"><span class="mrow" id="MathJax-Span-554"><span class="mi" id="MathJax-Span-555" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-556" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.528em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-557"><span class="mi" id="MathJax-Span-558" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-559" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.955em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.704em;"><span class="mrow" id="MathJax-Span-560"><span class="mi" id="MathJax-Span-561" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-562"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-563" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-564" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.528em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-565" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.203em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.955em, -0.467em); top: -3.267em; left: 50%; margin-left: -0.704em;"><span class="mrow" id="MathJax-Span-566"><span class="mi" id="MathJax-Span-567" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-568"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-569" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-570" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.999em, -0.467em); top: -1.848em; left: 50%; margin-left: -1.042em;"><span class="mrow" id="MathJax-Span-571"><span class="mi" id="MathJax-Span-572" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-573"><span style="display: inline-block; position: relative; width: 1.579em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.436em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.884em;"><span class="texatom" id="MathJax-Span-575"><span class="mrow" id="MathJax-Span-576"><span class="mi" id="MathJax-Span-577" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-578" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-579" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.203em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.076em; vertical-align: -1.459em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-45">\frac{\partial f}{\partial W_{i,j}} = \sum_{k} \frac{\partial f}{\partial q_k} \frac{\partial q_k}{\partial W_{i,j}}</script>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-46-Frame" style=""><nobr><span class="math" id="MathJax-Span-580" style="width: 3.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.547em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.469em, 1000em, 2.999em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-581"><span class="mo" id="MathJax-Span-582" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-583" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.478em); top: -2.534em; left: 0em;"><span class="mn" id="MathJax-Span-584" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.507em;"><span class="mi" id="MathJax-Span-585" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-586"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-587" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-588" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-589"><span style="display: inline-block; position: relative; width: 0.804em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.534em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-590" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.504em;"><span class="mi" id="MathJax-Span-591" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.448em; vertical-align: -0.391em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-46">= 2^k q_i  x_j </script></div><div class="cell markdown-cell"><h2>Implement forward and backword for different gates</h2>
</div><div class="cell code-cell"><div class="ace-monokai"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">MultiplyGate</span><span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">object</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">def</span> <span class="ace_identifier">forward</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span>,<span class="ace_identifier">y</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">def</span> <span class="ace_identifier">backward</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dz</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">dx</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">dz</span> <span class="ace_comment"># cache y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">dy</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">dz</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_paren ace_lparen">[</span><span class="ace_identifier">dx</span>, <span class="ace_identifier">dy</span><span class="ace_paren ace_rparen">]</span>
</div></div></div></div><div class="cell markdown-cell"><p>where [dx, dy] is:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-47-Frame" style=""><nobr><span class="math" id="MathJax-Span-592" style="width: 3.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.491em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.02em, 1000em, 3.595em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-593"><span class="mfrac" id="MathJax-Span-594"><span style="display: inline-block; position: relative; width: 1.19em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -3.21em; left: 50%; margin-left: -0.535em;"><span class="mrow" id="MathJax-Span-595"><span class="mi" id="MathJax-Span-596" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-597" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-598"><span class="mi" id="MathJax-Span-599" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-600" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.19em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-601" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-602" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.19em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -3.21em; left: 50%; margin-left: -0.535em;"><span class="mrow" id="MathJax-Span-603"><span class="mi" id="MathJax-Span-604" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-605" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-606"><span class="mi" id="MathJax-Span-607" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-608" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.19em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.607em; vertical-align: -1.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-47">\frac{\partial L}{\partial x}, \frac{\partial L}{\partial y} </script> and dz is: <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-48-Frame" style=""><nobr><span class="math" id="MathJax-Span-609" style="width: 1.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.683em, 1000em, 3.132em, -0.507em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-610"><span class="mfrac" id="MathJax-Span-611"><span style="display: inline-block; position: relative; width: 1.19em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -3.21em; left: 50%; margin-left: -0.535em;"><span class="mrow" id="MathJax-Span-612"><span class="mi" id="MathJax-Span-613" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-614" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-615"><span class="mi" id="MathJax-Span-616" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-617" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.19em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.469em; vertical-align: -0.914em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-48">\frac{\partial L}{\partial z}</script></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'CS231n Lecture 3   Loss Function.html';
if (e.keyCode === 37) window.location.href = 'CS231n Lecture 5   Convolutional Neural Networks.html';
}</script>
    </body>
    </html>
  