
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='CS231n Lecture 3   Loss Function.html'>CS231n Lecture 3 | Loss Function</a>, Previous: <a href='CS231n Lecture 5   Convolutional Neural Networks.html'>CS231n Lecture 5 | Convolutional Neural Networks</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>CS231n Lecture 4 | Introduction to Neural Networks</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><h2>Computation Graph</h2>
</div><div class="cell markdown-cell"><p><img src="resources/694CE60B58AE2525CF1FE633A6CE7880.png" alt="Screen Shot 2020-04-29 at 8.25.32 PM.png" width="1106" height="441"></p>
</div><div class="cell markdown-cell"><h2>Backpropagation: used for finding gradient</h2>
</div><div class="cell latex-cell">e.g.
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-78-Frame" style=""><nobr><span class="math" id="MathJax-Span-570" style="width: 8.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.77em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.654em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-571"><span class="mi" id="MathJax-Span-572" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-573" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-574" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-575" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-576" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">y</span><span class="mo" id="MathJax-Span-577" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-578" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">z</span><span class="mo" id="MathJax-Span-579" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-580" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-581" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">(</span><span class="mi" id="MathJax-Span-582" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-583" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-584" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">y</span><span class="mo" id="MathJax-Span-585" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-586" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.107em; vertical-align: -0.292em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-78">f(x,y,z) = (x + y) z</script>
where x = -2, y = 5, z = -4</div><div class="cell markdown-cell"><p><img src="resources/144169A9C13020C6423CBB7B004914F7.png" alt="Screen Shot 2020-04-29 at 8.30.33 PM.png" width="629" height="300"></p>
</div><div class="cell markdown-cell"><h3>Notations:</h3>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-79-Frame" style=""><nobr><span class="math" id="MathJax-Span-587" style="width: 4.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.941em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.818em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-588"><span class="mi" id="MathJax-Span-589" style="font-family: STIXGeneral-Italic;">q</span><span class="mo" id="MathJax-Span-590" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-591" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-592" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-593" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.964em; vertical-align: -0.294em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-79">q = x + y</script> <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-80-Frame" style=""><nobr><span class="math" id="MathJax-Span-594" style="width: 7.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.869em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.007em, 1000em, 3.595em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-595"><span class="mfrac" id="MathJax-Span-596"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-597"><span class="mi" id="MathJax-Span-598" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-599" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-600"><span class="mi" id="MathJax-Span-601" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-602" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-603" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-604" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span><span class="mo" id="MathJax-Span-605" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-606" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-607"><span class="mi" id="MathJax-Span-608" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-609" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-610"><span class="mi" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-612" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-613" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-614" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.622em; vertical-align: -1.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-80">\frac{\partial q}{\partial x} = 1, \frac{\partial q}{\partial y} = 1</script></div><div class="cell markdown-cell"><p></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-81-Frame" style=""><nobr><span class="math" id="MathJax-Span-615" style="width: 3.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.703em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.912em, -0.654em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-616"><span class="mi" id="MathJax-Span-617" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-618" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-619" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span><span class="mi" id="MathJax-Span-620" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.11em; vertical-align: -0.294em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-81">f = qz</script> <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-82-Frame" style=""><nobr><span class="math" id="MathJax-Span-621" style="width: 7.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.7em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-622"><span class="mfrac" id="MathJax-Span-623"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-624"><span class="mi" id="MathJax-Span-625" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-626" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-627"><span class="mi" id="MathJax-Span-628" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-629" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-630" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-631" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">z</span><span class="mo" id="MathJax-Span-632" style="font-family: STIXGeneral-Regular;">,</span><span class="mfrac" id="MathJax-Span-633" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-634"><span class="mi" id="MathJax-Span-635" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-636" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-637"><span class="mi" id="MathJax-Span-638" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-639" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-640" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-641" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-82">\frac{\partial f}{\partial q} = z, \frac{\partial f}{\partial z} = q</script><p></p>
</div><div class="cell markdown-cell"><p>goal is to find:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-83-Frame" style=""><nobr><span class="math" id="MathJax-Span-642" style="width: 5.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.236em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.595em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-643"><span class="mfrac" id="MathJax-Span-644"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-645"><span class="mi" id="MathJax-Span-646" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-647" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-648"><span class="mi" id="MathJax-Span-649" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-650" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-651" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-652" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-653"><span class="mi" id="MathJax-Span-654" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-655" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-656"><span class="mi" id="MathJax-Span-657" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-658" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-659" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-660" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-661"><span class="mi" id="MathJax-Span-662" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-663" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-664"><span class="mi" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-666" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.631em; vertical-align: -1.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-83">\frac{\partial f}{\partial x}, \frac{\partial f}{\partial y}, \frac{\partial f}{\partial z}</script> </div><div class="cell markdown-cell"><p>In order to get all the targets, we start from the last node where</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-84-Frame" style=""><nobr><span class="math" id="MathJax-Span-667" style="width: 5.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.011em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.596em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-668"><span class="mfrac" id="MathJax-Span-669"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-670"><span class="mi" id="MathJax-Span-671" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-672" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-673"><span class="mi" id="MathJax-Span-674" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-675" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-676" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-677" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span><span class="mo" id="MathJax-Span-678" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-679" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.632em; vertical-align: -1.054em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-84">\frac{\partial f}{\partial f} = q = 1</script></div><div class="cell markdown-cell"><p>Then find the following in sequences:</p>
<ol>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-85-Frame" style=""><nobr><span class="math" id="MathJax-Span-680" style="width: 5.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.011em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.47em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-681"><span class="mfrac" id="MathJax-Span-682"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-683"><span class="mi" id="MathJax-Span-684" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-685" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-686"><span class="mi" id="MathJax-Span-687" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-688" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-689" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-690" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">q</span><span class="mo" id="MathJax-Span-691" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-692" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.492em; vertical-align: -0.914em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-85">\frac{\partial f}{\partial z} = q = 1 </script></li>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-86-Frame" style=""><nobr><span class="math" id="MathJax-Span-693" style="width: 6.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.631em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-694"><span class="mfrac" id="MathJax-Span-695"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-696"><span class="mi" id="MathJax-Span-697" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-698" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-699"><span class="mi" id="MathJax-Span-700" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-701" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-702" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-703" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">z</span><span class="mo" id="MathJax-Span-704" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-705" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-706" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-86">\frac{\partial f}{\partial q} = z = -4 </script></li>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-87-Frame" style=""><nobr><span class="math" id="MathJax-Span-707" style="width: 13.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.275em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-708"><span class="mfrac" id="MathJax-Span-709"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-710"><span class="mi" id="MathJax-Span-711" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-712" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-713"><span class="mi" id="MathJax-Span-714" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-715" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-716" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-717" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-718"><span class="mi" id="MathJax-Span-719" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-720" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-721"><span class="mi" id="MathJax-Span-722" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-723" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-724" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-725"><span class="mi" id="MathJax-Span-726" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-727" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-728"><span class="mi" id="MathJax-Span-729" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-730" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-731" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-732" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-733" style="font-family: STIXGeneral-Regular;">4</span><span class="mo" id="MathJax-Span-734" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">×</span><span class="mn" id="MathJax-Span-735" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-736" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-737" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-738" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-87">\frac{\partial f}{\partial y} = \frac{\partial f}{\partial q} \frac{\partial q}{\partial y} = -4 \times 1 = -4 </script> -- using chain rule</li>
<li><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-88-Frame" style=""><nobr><span class="math" id="MathJax-Span-739" style="width: 13.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.275em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.598em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-740"><span class="mfrac" id="MathJax-Span-741"><span style="display: inline-block; position: relative; width: 1.077em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-742"><span class="mi" id="MathJax-Span-743" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-744" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-745"><span class="mi" id="MathJax-Span-746" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-747" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.077em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-748" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-749" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-750"><span class="mi" id="MathJax-Span-751" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-752" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-753"><span class="mi" id="MathJax-Span-754" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-755" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-756" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.134em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.912em, -0.467em); top: -3.224em; left: 50%; margin-left: -0.507em;"><span class="mrow" id="MathJax-Span-757"><span class="mi" id="MathJax-Span-758" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-759" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-760"><span class="mi" id="MathJax-Span-761" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-762" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.134em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-763" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-764" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-765" style="font-family: STIXGeneral-Regular;">4</span><span class="mo" id="MathJax-Span-766" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">×</span><span class="mn" id="MathJax-Span-767" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-768" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-769" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">−</span><span class="mn" id="MathJax-Span-770" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.634em; vertical-align: -1.056em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-88">\frac{\partial f}{\partial x} = \frac{\partial f}{\partial q} \frac{\partial q}{\partial x} = -4 \times 1 = -4 </script> -- using chain rule</li>
</ol>
</div><div class="cell markdown-cell"><p>Using Chain rule:<br>
Use upstreaming compound and multiple with the local compound to derive the desire partial derivative</p>
<p>For each node, we just need "local gradient" which is the new upstream for the next level node.</p>
</div><div class="cell markdown-cell"><h3>Another Example</h3>
</div><div class="cell markdown-cell"><p><img src="resources/2F2DE522B6F73F4F3A32C9F4F7CA1F5E.png" alt="Screen Shot 2020-04-29 at 8.58.24 PM.png" width="1065" height="416"></p>
</div><div class="cell markdown-cell"><h3>Sigmoid Function</h3>
</div><div class="cell markdown-cell"><p><img src="resources/CF795D3BF62FAA58660DD6CB62889C93.png" alt="Screen Shot 2020-04-29 at 9.05.39 PM.png" width="1093" height="550"></p>
</div><div class="cell markdown-cell"><p>Because we already know the gradient for sigmoid function, we can just replace the sigmoid gate with the analyic gradient result.</p>
</div><div class="cell markdown-cell"><p><img src="resources/8BAE4EE8462BA932ED821309F290022D.png" alt="Screen Shot 2020-04-29 at 9.10.36 PM.png" width="521" height="211"></p>
</div><div class="cell markdown-cell"><h3>Patterns in backward flow</h3>
</div><div class="cell markdown-cell"><ol>
<li><strong>add</strong> gate: gradient distributor (split to two branches because of two terms)</li>
<li><strong>max</strong> gate (e.g. max(0,1)=1): gradient router (one gradient is 0 and another is the full value)</li>
<li><strong>mul</strong> gate: gradient switcher (multiple the other one to derive the current one)</li>
</ol>
</div><div class="cell markdown-cell"><h2>Using matrix representation (Vectorization)</h2>
</div><div class="cell markdown-cell"><p>Jacobian Matrix for derivative for each vector.</p>
</div><div class="cell markdown-cell"><p>However, we don't need to calculate Jacobian matrix, because each x in the row only affect the result element in the same row. Thus the matrix is diagonal.</p>
</div><div class="cell markdown-cell"><p><img src="resources/7672AA5D5DCADE68F2E7634AFED07A31.png" alt="Screen Shot 2020-04-29 at 9.25.24 PM.png" width="1167" height="585"></p>
</div><div class="cell markdown-cell"><p>L2 norm:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-89-Frame" style=""><nobr><span class="math" id="MathJax-Span-771" style="width: 16.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.414em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.474em, 1000em, 3.026em, -0.654em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-772"><span class="mi" id="MathJax-Span-773" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-774" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-775" style="font-family: STIXGeneral-Italic;">q</span><span class="mo" id="MathJax-Span-776" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-777" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-778" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-779"><span class="mo" id="MathJax-Span-780" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-781"><span class="mrow" id="MathJax-Span-782"><span class="mo" id="MathJax-Span-783" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-784" style="font-family: STIXGeneral-Italic;">q</span><span class="texatom" id="MathJax-Span-785"><span class="mrow" id="MathJax-Span-786"><span class="mo" id="MathJax-Span-787" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-788"><span style="display: inline-block; position: relative; width: 0.694em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.44em); top: -2.534em; left: 0em;"><span class="texatom" id="MathJax-Span-789"><span class="mrow" id="MathJax-Span-790"><span class="mo" id="MathJax-Span-791" style="font-family: STIXGeneral-Regular;">|</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.225em;"><span class="mn" id="MathJax-Span-792" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-793" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-794" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-795" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.507em;"><span class="mn" id="MathJax-Span-796" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -1.995em; left: 0.507em;"><span class="mn" id="MathJax-Span-797" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-798" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-799" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-800" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.507em;"><span class="mn" id="MathJax-Span-801" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -1.995em; left: 0.507em;"><span class="mn" id="MathJax-Span-802" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-803" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-804" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-805" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -2.663em; left: 0.507em;"><span class="mn" id="MathJax-Span-806" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.995em; left: 0.507em;"><span class="mn" id="MathJax-Span-807" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-808" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-809" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-810" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-811" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">+</span><span class="msubsup" id="MathJax-Span-812"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-813" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.507em;"><span class="mn" id="MathJax-Span-814" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.161em; left: 0.507em;"><span class="mi" id="MathJax-Span-815" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.473em; vertical-align: -0.422em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-89">f(q) = ||q||^2 = q_1^2 + q_2^2 + q_3^3 ... + q_n^2 </script></div><div class="cell markdown-cell"><p>Partial in respect to each q_i:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-90-Frame" style=""><nobr><span class="math" id="MathJax-Span-816" style="width: 4.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.336em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.999em, 1000em, 3.641em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-817"><span class="mfrac" id="MathJax-Span-818"><span style="display: inline-block; position: relative; width: 1.415em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-819"><span class="mi" id="MathJax-Span-820" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-821" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.955em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.648em;"><span class="mrow" id="MathJax-Span-822"><span class="mi" id="MathJax-Span-823" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-824"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-825" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-826" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.415em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-827" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-828" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">2</span><span class="msubsup" id="MathJax-Span-829"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-830" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-831" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.682em; vertical-align: -1.104em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-90">\frac{\partial f}{\partial q_i} = 2q_i</script> or <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-91-Frame" style=""><nobr><span class="math" id="MathJax-Span-832" style="width: 4.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.054em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 3em, -0.444em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-833"><span class="msubsup" id="MathJax-Span-834"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.703em, 1000em, 2.715em, -0.444em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-835" style="font-family: STIXGeneral-Regular;">∇</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.788em;"><span class="mi" id="MathJax-Span-836" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-837" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-838" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-839" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">2</span><span class="mi" id="MathJax-Span-840" style="font-family: STIXGeneral-Italic;">q</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.208em; vertical-align: -0.393em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-91">\nabla_q f = 2q</script></div><div class="cell markdown-cell"><p>Then calculate gradient for W, we can use chain rule:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-92-Frame" style=""><nobr><span class="math" id="MathJax-Span-841" style="width: 10.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.741em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.964em, 1000em, 3.96em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-842"><span class="mfrac" id="MathJax-Span-843"><span style="display: inline-block; position: relative; width: 2.203em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-844"><span class="mi" id="MathJax-Span-845" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-846" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.999em, -0.467em); top: -1.848em; left: 50%; margin-left: -1.042em;"><span class="mrow" id="MathJax-Span-847"><span class="mi" id="MathJax-Span-848" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-849"><span style="display: inline-block; position: relative; width: 1.579em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.436em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-850" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.884em;"><span class="texatom" id="MathJax-Span-851"><span class="mrow" id="MathJax-Span-852"><span class="mi" id="MathJax-Span-853" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-854" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-855" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.203em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-856" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-857" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-858" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.657em, 1000em, 2.585em, -0.497em); top: -1.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-859"><span class="mrow" id="MathJax-Span-860"><span class="mi" id="MathJax-Span-861" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-862" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.528em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.91em, -0.467em); top: -3.222em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-863"><span class="mi" id="MathJax-Span-864" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-865" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.955em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.704em;"><span class="mrow" id="MathJax-Span-866"><span class="mi" id="MathJax-Span-867" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-868"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-869" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-870" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.528em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-871" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.203em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.955em, -0.467em); top: -3.267em; left: 50%; margin-left: -0.704em;"><span class="mrow" id="MathJax-Span-872"><span class="mi" id="MathJax-Span-873" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-874"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-875" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-876" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.999em, -0.467em); top: -1.848em; left: 50%; margin-left: -1.042em;"><span class="mrow" id="MathJax-Span-877"><span class="mi" id="MathJax-Span-878" style="font-family: STIXGeneral-Regular;">∂</span><span class="msubsup" id="MathJax-Span-879"><span style="display: inline-block; position: relative; width: 1.579em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.436em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-880" style="font-family: STIXGeneral-Italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.073em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.884em;"><span class="texatom" id="MathJax-Span-881"><span class="mrow" id="MathJax-Span-882"><span class="mi" id="MathJax-Span-883" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-884" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-885" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.203em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.076em; vertical-align: -1.459em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-92">\frac{\partial f}{\partial W_{i,j}} = \sum_{k} \frac{\partial f}{\partial q_k} \frac{\partial q_k}{\partial W_{i,j}}</script>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-93-Frame" style=""><nobr><span class="math" id="MathJax-Span-886" style="width: 3.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.547em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.469em, 1000em, 2.999em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-887"><span class="mo" id="MathJax-Span-888" style="font-family: STIXGeneral-Regular;">=</span><span class="msubsup" id="MathJax-Span-889" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.478em); top: -2.534em; left: 0em;"><span class="mn" id="MathJax-Span-890" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.507em;"><span class="mi" id="MathJax-Span-891" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-892"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.912em, -0.482em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-893" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.064em; left: 0.507em;"><span class="mi" id="MathJax-Span-894" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-895"><span style="display: inline-block; position: relative; width: 0.804em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.534em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-896" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.504em;"><span class="mi" id="MathJax-Span-897" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.448em; vertical-align: -0.391em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-93">= 2^k q_i  x_j </script></div><div class="cell markdown-cell"><h2>Implement forward and backword for different gates</h2>
</div><div class="cell code-cell"><div class="ace-monokai"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">class</span> <span class="ace_identifier">MultiplyGate</span><span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">object</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">def</span> <span class="ace_identifier">forward</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">x</span>,<span class="ace_identifier">y</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword">def</span> <span class="ace_identifier">backward</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">dz</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">dx</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">y</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">dz</span> <span class="ace_comment"># cache y</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">dy</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">self</span>.<span class="ace_identifier">x</span> <span class="ace_keyword ace_operator">*</span> <span class="ace_identifier">dz</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_keyword">return</span> <span class="ace_paren ace_lparen">[</span><span class="ace_identifier">dx</span>, <span class="ace_identifier">dy</span><span class="ace_paren ace_rparen">]</span>
</div></div></div></div><div class="cell markdown-cell"><p>where [dx, dy] is:</p>
</div><div class="cell latex-cell"><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-94-Frame" style=""><nobr><span class="math" id="MathJax-Span-898" style="width: 3.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.491em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.02em, 1000em, 3.595em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-899"><span class="mfrac" id="MathJax-Span-900"><span style="display: inline-block; position: relative; width: 1.19em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -3.21em; left: 50%; margin-left: -0.535em;"><span class="mrow" id="MathJax-Span-901"><span class="mi" id="MathJax-Span-902" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-903" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-904"><span class="mi" id="MathJax-Span-905" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-906" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.19em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-907" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-908" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.19em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -3.21em; left: 50%; margin-left: -0.535em;"><span class="mrow" id="MathJax-Span-909"><span class="mi" id="MathJax-Span-910" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-911" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.909em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.479em;"><span class="mrow" id="MathJax-Span-912"><span class="mi" id="MathJax-Span-913" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-914" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.19em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.607em; vertical-align: -1.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-94">\frac{\partial L}{\partial x}, \frac{\partial L}{\partial y} </script> and dz is: <div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-95-Frame" style=""><nobr><span class="math" id="MathJax-Span-915" style="width: 1.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.464em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.683em, 1000em, 3.132em, -0.507em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-916"><span class="mfrac" id="MathJax-Span-917"><span style="display: inline-block; position: relative; width: 1.19em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.467em); top: -3.21em; left: 50%; margin-left: -0.535em;"><span class="mrow" id="MathJax-Span-918"><span class="mi" id="MathJax-Span-919" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-920" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.697em, 1000em, 2.784em, -0.467em); top: -1.848em; left: 50%; margin-left: -0.45em;"><span class="mrow" id="MathJax-Span-921"><span class="mi" id="MathJax-Span-922" style="font-family: STIXGeneral-Regular;">∂</span><span class="mi" id="MathJax-Span-923" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.19em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.469em; vertical-align: -0.914em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-95">\frac{\partial L}{\partial z}</script></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div><div class="cell markdown-cell"></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'CS231n Lecture 3   Loss Function.html';
if (e.keyCode === 37) window.location.href = 'CS231n Lecture 5   Convolutional Neural Networks.html';
}</script>
    </body>
    </html>
  